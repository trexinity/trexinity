@import url("https://fonts.googleapis.com/css2?family=VT323&family=Special+Elite&family=Inter:wght@300;400;500;600&display=swap");

:root{
  --orange:#ff6a00;--orange-light:#ff8a33;--orange-dark:#cc5500;
  --bg-dark:#0b0b0b;--bg-light:#ffffff;--surface-dark:#1a1a1a;--surface-light:#f8f9fa;
  --text-dark:#0a0a0a;--text-light:#f6f6f6;--text-secondary:#999;
  --glass-dark:rgba(255,255,255,0.08);--glass-light:rgba(255,255,255,0.55);
  --glass-border-dark:rgba(255,255,255,0.15);--glass-border-light:rgba(0,0,0,0.08);
  --blur-strong:24px;--blur-medium:16px;--blur-light:12px;
  --r-xl:20px;--r-lg:16px;--r-md:12px;--r-sm:8px;--gap:16px;
  --shadow-xl:0 32px 80px rgba(0,0,0,0.45);--shadow-lg:0 24px 68px rgba(0,0,0,0.40);
  --shadow-md:0 12px 32px rgba(0,0,0,0.25);
  --transition:all 0.25s cubic-bezier(0.4,0,0.2,1);
}

*{box-sizing:border-box;}
html,body{height:100%;margin:0;padding:0;}
body{
  font-family:"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  font-size:16px;background:var(--bg-dark);color:var(--text-light);overflow:hidden;
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
  transition:background 0.3s ease, color 0.3s ease;
}
body.light{background:var(--bg-light);color:var(--text-dark);}

.app{
  display:grid;grid-template-columns:280px 1fr 0px;grid-template-rows:auto 1fr auto;
  grid-template-areas:"header header header" "sidebar main right" "sidebar composer right";
  gap:var(--gap);height:100vh;padding:var(--gap);
}
.app.right-open{grid-template-columns:280px 1fr 360px;transition:grid-template-columns 0.4s ease;}

@media (max-width:1200px){.app{grid-template-columns:80px 1fr 0;}.app.right-open{grid-template-columns:80px 1fr 0;}.right{display:none;}}
@media (max-width:768px){
  .app{grid-template-columns:1fr;grid-template-rows:auto 1fr auto;grid-template-areas:"header" "main" "composer";gap:12px;padding:12px;}
  .sidebar{display:none;}
}

/* Glass morphism */
.glass{
  background:var(--glass-dark);-webkit-backdrop-filter:blur(var(--blur-strong));backdrop-filter:blur(var(--blur-strong));
  border:1px solid var(--glass-border-dark);border-radius:var(--r-xl);box-shadow:var(--shadow-lg);
  transition:var(--transition);
}
body.light .glass{background:var(--glass-light);border-color:var(--glass-border-light);}
.glass:hover{transform:translateY(-2px);box-shadow:var(--shadow-xl);}

/* Header */
.header{grid-area:header;display:flex;align-items:center;justify-content:space-between;padding:12px 18px;min-height:60px;}
.brand{display:flex;align-items:center;gap:12px;}
.brand img{height:32px;width:auto;border-radius:var(--r-sm);transition:var(--transition);}
.brand img:hover{transform:scale(1.05);}
.tabs{display:flex;gap:6px;align-items:center;}
.tab{
  padding:8px 14px;border-radius:999px;border:1px solid transparent;cursor:pointer;
  transition:var(--transition);font-weight:500;font-size:14px;position:relative;overflow:hidden;
}
.tab::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,var(--orange),var(--orange-light));opacity:0;transition:opacity 0.3s ease;}
.tab.active{border-color:var(--orange);background:rgba(255,106,0,0.12);color:var(--orange);}
.tab.active::before{opacity:0.05;}
.tab:hover:not(.active){background:rgba(255,255,255,0.04);transform:translateY(-1px);}
body.light .tab:hover:not(.active){background:rgba(0,0,0,0.04);}

/* Profile area */
.profile-area{display:flex;align-items:center;gap:10px;}
.profile-pic{width:32px;height:32px;border-radius:50%;border:2px solid var(--orange);transition:var(--transition);cursor:pointer;}
.profile-pic:hover{transform:scale(1.1);box-shadow:0 0 0 3px rgba(255,106,0,0.2);}
.login-status{font-size:12px;color:var(--text-secondary);}

/* Sidebar */
.sidebar{grid-area:sidebar;display:flex;flex-direction:column;gap:var(--gap);padding:var(--gap);}
.sidebar-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;}
.controls{display:flex;gap:8px;flex-wrap:wrap;}
.pill{
  border:1px solid var(--glass-border-dark);border-radius:999px;padding:6px 12px;
  background:transparent;color:inherit;cursor:pointer;font-size:13px;
  transition:var(--transition);display:inline-flex;align-items:center;gap:6px;
}
.pill:hover{background:rgba(255,255,255,0.06);transform:translateY(-1px);}
body.light .pill{border-color:var(--glass-border-light);}
body.light .pill:hover{background:rgba(0,0,0,0.06);}
.chat-list{flex:1;overflow:auto;display:flex;flex-direction:column;gap:4px;}
.chat-item{
  padding:12px 14px;border-radius:var(--r-md);cursor:pointer;border:1px solid transparent;
  transition:var(--transition);position:relative;
}
.chat-item:hover{border-color:var(--orange);background:rgba(255,106,0,0.08);transform:translateX(4px);}
.chat-item.active{background:rgba(255,106,0,0.12);border-color:var(--orange);}

/* Main content */
.main{grid-area:main;overflow:hidden;display:grid;grid-template-rows:auto 1fr;position:relative;}
.hero{padding:20px;text-align:center;}

/* Enhanced taglines carousel */
.taglines{position:relative;height:50px;overflow:hidden;margin:20px 0;}
.taglines .slide{
  position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
  color:var(--orange);font-family:"Special Elite",cursive;font-size:24px;font-weight:600;
  opacity:0;transform:translateY(30px) scale(0.95);
  animation:slideSwap 21s infinite;text-shadow:0 2px 10px rgba(255,106,0,0.3);
}
.taglines .slide:nth-child(1){animation-delay:0s}.taglines .slide:nth-child(2){animation-delay:7s}.taglines .slide:nth-child(3){animation-delay:14s}
@keyframes slideSwap{
  0%{opacity:0;transform:translateY(30px) scale(0.95);}
  7%{opacity:1;transform:translateY(0) scale(1);}
  30%{opacity:1;transform:translateY(0) scale(1);}
  37%{opacity:0;transform:translateY(-30px) scale(0.95);}
  100%{opacity:0;}
}

/* Quick suggestions */
.suggestions-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:12px;padding:20px;max-width:800px;margin:0 auto;}
.suggestion-card{
  padding:16px;border-radius:var(--r-md);border:1px solid var(--glass-border-dark);
  background:rgba(255,255,255,0.02);cursor:pointer;transition:var(--transition);
}
.suggestion-card:hover{background:rgba(255,106,0,0.05);border-color:var(--orange);transform:translateY(-2px);}
.suggestion-card h4{margin:0 0 6px;color:var(--orange);font-size:14px;font-weight:600;}
.suggestion-card p{margin:0;font-size:13px;color:var(--text-secondary);line-height:1.4;}

/* Stream with enhanced messages */
.stream{overflow:auto;padding:20px;display:flex;flex-direction:column;gap:16px;}
.msg{
  padding:16px 18px;border-radius:var(--r-lg);border:1px solid rgba(255,255,255,0.08);
  background:rgba(255,255,255,0.03);animation:msgAppear 0.3s ease;position:relative;
  transition:var(--transition);
}
body.light .msg{border-color:rgba(0,0,0,0.06);background:rgba(0,0,0,0.02);}
.msg.user{border-color:var(--orange);background:rgba(255,106,0,0.05);}
.msg.assistant{border-left:3px solid var(--orange);}
.msg:hover{transform:translateY(-1px);box-shadow:var(--shadow-md);}

/* Typing indicator */
.typing-indicator{display:flex;align-items:center;gap:8px;color:var(--text-secondary);}
.typing-dots{display:flex;gap:4px;}
.typing-dots span{width:6px;height:6px;border-radius:50%;background:var(--orange);animation:typingDots 1.4s infinite;}
.typing-dots span:nth-child(2){animation-delay:0.2s}.typing-dots span:nth-child(3){animation-delay:0.4s}
@keyframes typingDots{0%,60%,100%{opacity:0.3;transform:scale(0.8);}30%{opacity:1;transform:scale(1);}}

/* Typing cursor */
.typing-cursor{
  display:inline-block;width:2px;height:1.2em;background:var(--orange);
  animation:blink 1s infinite;margin-left:2px;
}
@keyframes blink{0%,50%{opacity:1;}51%,100%{opacity:0;}}

/* Right panel enhanced */
.right{
  grid-area:right;display:flex;flex-direction:column;padding:var(--gap);gap:var(--gap);
  transform:translateX(100%);opacity:0;transition:all 0.4s cubic-bezier(0.4,0,0.2,1);
}
.right:not(.hidden){transform:translateX(0);opacity:1;}

/* Composer enhanced */
.composer{
  grid-area:composer;position:relative;display:flex;flex-direction:column;align-items:center;
  gap:12px;padding-bottom:8px;
}
.composer-shell{
  width:min(1100px,96%);display:flex;align-items:flex-end;gap:10px;padding:8px;
  transition:var(--transition);
}
.composer-shell:focus-within{transform:translateY(-3px);box-shadow:var(--shadow-xl);}
.capsule{
  flex:1;display:flex;align-items:flex-end;gap:8px;padding:12px 16px;border-radius:24px;
  border:1px solid var(--glass-border-dark);background:rgba(0,0,0,0.15);
  -webkit-backdrop-filter:blur(var(--blur-medium));backdrop-filter:blur(var(--blur-medium));
  transition:var(--transition);
}
body.light .capsule{background:rgba(255,255,255,0.7);border-color:var(--glass-border-light);}
.capsule:focus-within{border-color:var(--orange);box-shadow:0 0 0 3px rgba(255,106,0,0.1);}
.capsule textarea{
  flex:1;resize:none;max-height:120px;min-height:24px;outline:none;border:none;
  background:transparent;color:inherit;font:inherit;padding:6px 0;line-height:1.5;
}
.send{
  background:linear-gradient(135deg,var(--orange),var(--orange-light));color:#fff;
  border:none;border-radius:50%;width:40px;height:40px;cursor:pointer;
  display:flex;align-items:center;justify-content:center;transition:var(--transition);
  box-shadow:0 2px 8px rgba(255,106,0,0.3);
}
.send:hover{transform:scale(1.05);box-shadow:0 4px 16px rgba(255,106,0,0.4);}
.send:active{transform:scale(0.95);}

/* Enhanced toggles */
.toggles{
  width:min(1100px,96%);display:flex;flex-wrap:wrap;gap:10px;justify-content:center;
}
.switch{
  display:inline-flex;gap:8px;align-items:center;padding:8px 14px;border-radius:999px;
  border:1px solid var(--glass-border-dark);cursor:pointer;user-select:none;
  transition:var(--transition);font-size:14px;
}
.switch:hover{background:rgba(255,255,255,0.04);border-color:var(--orange);}
.switch input{accent-color:var(--orange);}

/* Notifications */
.toast-wrap{position:fixed;top:80px;left:20px;display:flex;flex-direction:column;gap:12px;z-index:9999;}
.toast{
  padding:12px 16px;border-radius:var(--r-md);border:1px solid var(--glass-border-dark);
  -webkit-backdrop-filter:blur(var(--blur-medium));backdrop-filter:blur(var(--blur-medium));
  background:rgba(0,0,0,0.6);color:#fff;transform:translateX(-100%);
  animation:toastSlide 0.3s ease forwards;
  display:flex;align-items:center;gap:8px;
}
body.light .toast{background:rgba(255,255,255,0.9);color:#111;border-color:var(--glass-border-light);}
@keyframes toastSlide{to{transform:translateX(0);}}

/* Loading states */
.splash{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  background:linear-gradient(135deg,rgba(0,0,0,0.9),rgba(0,0,0,0.7));z-index:9997;
  backdrop-filter:blur(var(--blur-light));
}
.splash video{height:80px;border-radius:var(--r-md);filter:drop-shadow(0 0 20px var(--orange));}

/* Dialog improvements */
.dialog-backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;
  justify-content:center;z-index:9998;backdrop-filter:blur(var(--blur-light));
}
.dialog{width:min(500px,90%);padding:24px;max-height:80vh;overflow:auto;}

/* Animations */
@keyframes msgAppear{from{opacity:0;transform:translateY(20px) scale(0.95);}to{opacity:1;transform:translateY(0) scale(1);}}
@keyframes floatUp{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}

/* Footer */
.footer{margin:16px;padding:16px;text-align:center;font-size:14px;}
.ad-box{
  min-height:100px;border:2px dashed var(--glass-border-dark);border-radius:var(--r-md);
  display:flex;align-items:center;justify-content:center;opacity:0.7;transition:var(--transition);
}
.ad-box:hover{opacity:1;border-color:var(--orange);}
body.light .ad-box{border-color:var(--glass-border-light);}

/* Mobile optimizations */
@media (max-width:768px){
  .taglines .slide{font-size:18px;}
  .suggestions-grid{grid-template-columns:1fr;padding:16px;}
  .stream{padding:16px;}
  .msg{padding:12px 14px;}
  .composer-shell{padding:6px;}
  .capsule{padding:10px 12px;}
  .toggles{justify-content:flex-start;}
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important;}
}
